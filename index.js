// Import the API, Keyring and some utility functions
const { ApiPromise, WsProvider } = require('@polkadot/api');
const { Keyring } = require('@polkadot/keyring');

const options = require('yargs')
  .option('id', {
    type: 'string',
    description: 'The id of your target egg',
    required: true,
  })
  .option('endpoint', {
    alias: 'e',
    type: 'string',
    description: 'The wss endpoint. [Westend = wss://westend-rpc.polkadot.io] [Kusama = wss://kusama-rpc.polkadot.io]',
    required: true,
  })
  .option('seed', {
    alias: 's',
    type: 'string',
    description: 'Your mnemonic seed. It is not saved anywhere.',
    required: true,
  })
  .argv

async function main() {
  const provider = new WsProvider(options.endpoint);
  
  const api = await ApiPromise.create({ provider });
  
  console.log(`Connected to node: ${(await api.rpc.system.chain()).toHuman()} [ss58: ${api.registry.chainSS58}]`)

  const keyring = new Keyring({ type: 'sr25519', ss58Format: api.registry.chainSS58 });

  const ID = options.id
  const PHRASE = options.seed;

  let account = keyring.addFromUri(PHRASE);
  
  console.log('EGG_ID:          ', ID);
  console.log('ACCOUNT_ADDRESS: ', account.address)

  var rmrks = [];

  emojis.forEach((emoji) => { rmrks.push(api.tx.system.remark(`RMRK::EMOTE::1.0.0::${ID}::${emoji}`)); });

  const txs = [
    ...rmrks
  ];

  const transfer = api.tx.utility.batch(txs);

  // Sign and send the transaction using account
  const hash = await transfer.signAndSend(account);

  console.log('Transfer sent with hash', hash.toHex());
}

const emojis = [
  '1f469-200d-1f4bb',
  '1f9d1-200d-1f3a4',
  '1f468-200d-1f3a4',
  '1f469-200d-1f3a4',
  '1f9d1-200d-1f3a8',
  '1f468-200d-1f3a8',
  '1f469-200d-1f3a8',
  '1f9d1-200d-2708-fe0f',
  '1f468-200d-2708-fe0f',
  '1f469-200d-2708-fe0f',
  '1f9d1-200d-1f680',
  '1f468-200d-1f680',
  '1f469-200d-1f680',
  '1f9d1-200d-1f692',
  '1f468-200d-1f692',
  '1f469-200d-1f692',
  '1f46e',
  '1f46e-200d-2642-fe0f',
  '1f46e-200d-2640-fe0f',
  '1f575-fe0f',
  '1f575-fe0f-200d-2642-fe0f',
  '1f575-fe0f-200d-2640-fe0f',
  '1f482',
  '1f482-200d-2642-fe0f',
  '1f482-200d-2640-fe0f',
  '1f477',
  '1f477-200d-2642-fe0f',
  '1f477-200d-2640-fe0f',
  '1f934',
  '1f478',
  '1f473',
  '1f473-200d-2642-fe0f',
  '1f473-200d-2640-fe0f',
  '1f472',
  '1f9d5',
  '1f935',
  '1f470',
  '1f930',
  '1f931',
  '1f47c',
  '1f385',
  '1f936',
  '1f9b8',
  '1f9b8-200d-2642-fe0f',
  '1f9b8-200d-2640-fe0f',
  '1f9b9',
  '1f9b9-200d-2642-fe0f',
  '1f9b9-200d-2640-fe0f',
  '1f9d9',
  '1f9d9-200d-2642-fe0f',
  '1f9d9-200d-2640-fe0f',
  '1f9da',
  '1f9da-200d-2642-fe0f',
  '1f9da-200d-2640-fe0f',
  '1f9db',
  '1f9db-200d-2642-fe0f',
  '1f9db-200d-2640-fe0f',
  '1f9dc',
  '1f9dc-200d-2642-fe0f',
  '1f9dc-200d-2640-fe0f',
  '1f9dd',
  '1f9dd-200d-2642-fe0f',
  '1f9dd-200d-2640-fe0f',
  '1f9de',
  '1f9de-200d-2642-fe0f',
  '1f9de-200d-2640-fe0f',
  '1f9df',
  '1f9df-200d-2642-fe0f',
  '1f9df-200d-2640-fe0f',
  '1f486',
  '1f486-200d-2642-fe0f',
  '1f486-200d-2640-fe0f',
  '1f487',
  '1f487-200d-2642-fe0f',
  '1f487-200d-2640-fe0f',
  '1f6b6',
  '1f6b6-200d-2642-fe0f',
  '1f6b6-200d-2640-fe0f',
  '1f9cd',
  '1f9cd-200d-2642-fe0f',
  '1f9cd-200d-2640-fe0f',
  '1f9ce',
  '1f9ce-200d-2642-fe0f',
  '1f9ce-200d-2640-fe0f',
  '1f9d1-200d-1f9af',
  '1f468-200d-1f9af',
  '1f469-200d-1f9af',
  '1f9d1-200d-1f9bc',
  '1f468-200d-1f9bc',
  '1f469-200d-1f9bc',
  '1f9d1-200d-1f9bd',
  '1f468-200d-1f9bd',
  '1f469-200d-1f9bd',
  '1f3c3',
  '1f3c3-200d-2642-fe0f',
  '1f3c3-200d-2640-fe0f',
  '1f483',
  '1f57a',
  '1f574-fe0f',
  '1f46f',
  '1f46f-200d-2642-fe0f',
  '1f46f-200d-2640-fe0f',
  '1f9d6',
  '1f9d6-200d-2642-fe0f',
  '1f9d6-200d-2640-fe0f',
  '1f9d7',
  '1f9d7-200d-2642-fe0f',
  '1f9d7-200d-2640-fe0f',
  '1f93a',
  '1f3c7',
  '26f7-fe0f',
  '1f3c2',
  '1f3cc-fe0f',
  '1f3cc-fe0f-200d-2642-fe0f',
  '1f3cc-fe0f-200d-2640-fe0f',
  '1f3c4',
  '1f3c4-200d-2642-fe0f',
  '1f3c4-200d-2640-fe0f',
  '1f6a3',
  '1f6a3-200d-2642-fe0f',
  '1f6a3-200d-2640-fe0f',
  '1f3ca',
  '1f3ca-200d-2642-fe0f',
  '1f3ca-200d-2640-fe0f',
  '26f9-fe0f',
  '26f9-fe0f-200d-2642-fe0f',
  '26f9-fe0f-200d-2640-fe0f',
  '1f3cb-fe0f',
  '1f3cb-fe0f-200d-2642-fe0f',
  '1f3cb-fe0f-200d-2640-fe0f',
  '1f6b4',
  '1f6b4-200d-2642-fe0f',
  '1f6b4-200d-2640-fe0f',
  '1f6b5',
  '1f6b5-200d-2642-fe0f',
  '1f6b5-200d-2640-fe0f',
  '1f938',
  '1f938-200d-2642-fe0f',
  '1f938-200d-2640-fe0f',
  '1f93c',
  '1f93c-200d-2642-fe0f',
  '1f93c-200d-2640-fe0f',
  '1f93d',
  '1f93d-200d-2642-fe0f',
  '1f93d-200d-2640-fe0f',
  '1f93e',
  '1f93e-200d-2642-fe0f',
  '1f93e-200d-2640-fe0f',
  '1f939',
  '1f939-200d-2642-fe0f',
  '1f939-200d-2640-fe0f',
  '1f9d8',
  '1f9d8-200d-2642-fe0f',
  '1f9d8-200d-2640-fe0f',
  '1f6c0',
  '1f6cc',
  '1f9d1-200d-1f91d-200d-1f9d1',
  '1f46d',
  '1f46b',
  '1f46c',
  '1f48f',
  '1f469-200d-2764-fe0f-200d-1f48b-200d-1f468',
  '1f468-200d-2764-fe0f-200d-1f48b-200d-1f468',
  '1f469-200d-2764-fe0f-200d-1f48b-200d-1f469',
  '1f491',
  '1f469-200d-2764-fe0f-200d-1f468',
  '1f468-200d-2764-fe0f-200d-1f468',
  '1f469-200d-2764-fe0f-200d-1f469',
  '1f468-200d-1f469-200d-1f466',
  '1f46a',
  '1f468-200d-1f469-200d-1f467',
  '1f468-200d-1f469-200d-1f467-200d-1f466',
  '1f468-200d-1f469-200d-1f466-200d-1f466',
  '1f468-200d-1f469-200d-1f467-200d-1f467',
  '1f468-200d-1f468-200d-1f466',
  '1f468-200d-1f468-200d-1f467',
  '1f468-200d-1f468-200d-1f467-200d-1f466',
  '1f468-200d-1f468-200d-1f466-200d-1f466',
  '1f468-200d-1f468-200d-1f467-200d-1f467',
  '1f469-200d-1f469-200d-1f466',
  '1f469-200d-1f469-200d-1f467',
  '1f469-200d-1f469-200d-1f467-200d-1f466',
  '1f469-200d-1f469-200d-1f466-200d-1f466',
  '1f469-200d-1f469-200d-1f467-200d-1f467',
  '1f468-200d-1f466',
  '1f468-200d-1f466-200d-1f466',
  '1f468-200d-1f467',
  '1f468-200d-1f467-200d-1f466',
  '1f468-200d-1f467-200d-1f467',
  '1f469-200d-1f466',
  '1f469-200d-1f466-200d-1f466',
  '1f469-200d-1f467',
  '1f469-200d-1f467-200d-1f466',
  '1f469-200d-1f467-200d-1f467',
  '1f5e3-fe0f',
  '1f464',
  '1f465',
  '1f463',
  '1f48b',
  '1f48c',
  '1f498',
  '1f49d',
  '1f496',
  '1f497',
  '1f493',
  '1f49e',
  '1f495',
  '1f49f',
  '2763-fe0f',
  '1f494',
  '2764-fe0f',
  '1f9e1',
  '1f49b',
  '1f49a',
  '1f499',
  '1f49c',
  '1f90e',
  '1f5a4',
  '1f90d',
  '1f4af',
  '1f4a2',
  '1f4a5',
  '1f4ab',
  '1f4a6',
  '1f4a8',
  '1f573-fe0f',
  '1f4a3',
  '1f4ac',
  '1f441-fe0f-200d-1f5e8-fe0f',
  '1f5e8-fe0f',
  '1f5ef-fe0f',
  '1f4ad',
  '1f4a4',
  '1f435',
  '1f412',
  '1f98d',
  '1f9a7',
  '1f436',
  '1f415',
  '1f9ae',
  '1f415-200d-1f9ba',
  '1f429',
  '1f43a',
  '1f98a',
  '1f99d',
  '1f431',
  '1f408',
  '1f981',
  '1f42f',
  '1f405',
  '1f406',
  '1f434',
  '1f40e',
  '1f984',
  '1f993',
  '1f98c',
  '1f42e',
  '1f402',
  '1f403',
  '1f404',
  '1f437',
  '1f416',
  '1f417',
  '1f43d',
  '1f40f',
  '1f411',
  '1f410',
  '1f42a',
  '1f42b',
  '1f999',
  '1f992',
  '1f418',
  '1f98f',
  '1f99b',
  '1f42d',
  '1f401',
  '1f400',
  '1f439',
  '1f430',
  '1f407',
  '1f43f-fe0f',
  '1f994',
  '1f987',
  '1f43b',
  '1f428',
  '1f43c',
  '1f9a5',
  '1f9a6',
  '1f9a8',
  '1f998',
  '1f9a1',
  '1f43e',
  '1f983',
  '1f414',
  '1f413',
  '1f423',
  '1f424',
  '1f425',
  '1f426',
  '1f427',
  '1f54a-fe0f',
  '1f985',
  '1f986',
  '1f9a2',
  '1f989',
  '1f9a9',
  '1f99a',
  '1f99c',
  '1f438',
  '1f40a',
  '1f422',
  '1f98e',
  '1f40d',
  '1f432',
  '1f409',
  '1f995',
  '1f996',
  '1f433',
  '1f40b',
  '1f42c',
  '1f41f',
  '1f420',
  '1f421',
  '1f988',
  '1f419',
  '1f41a',
  '1f40c',
  '1f98b',
  '1f41b',
  '1f41c',
  '1f41d',
  '1f41e',
  '1f997',
  '1f577-fe0f',
  '1f578-fe0f',
  '1f982',
  '1f99f',
  '1f9a0',
  '1f490',
  '1f338',
  '1f4ae',
  '1f3f5-fe0f',
  '1f339',
  '1f940',
  '1f33a',
  '1f33b',
  '1f33c',
  '1f337',
  '1f331',
  '1f332',
  '1f333',
  '1f334',
  '1f335',
  '1f33e',
  '1f33f',
  '2618-fe0f',
  '1f340',
  '1f341',
  '1f342',
  '1f343',
  '1f347',
  '1f348',
  '1f349',
  '1f34a',
  '1f34b',
  '1f34c',
  '1f34d',
  '1f96d',
  '1f34e',
  '1f34f',
  '1f350',
  '1f351',
  '1f352',
  '1f353',
  '1f95d',
  '1f345',
  '1f965',
  '1f951',
  '1f346',
  '1f954',
  '1f955',
  '1f33d',
  '1f336-fe0f',
  '1f952',
  '1f96c',
  '1f966',
  '1f9c4',
  '1f9c5',
  '1f344',
  '1f95c',
  '1f330',
  '1f35e',
  '1f950',
  '1f956',
  '1f968',
  '1f96f',
  '1f95e',
  '1f9c7',
  '1f9c0',
  '1f356',
  '1f357',
  '1f969',
  '1f953',
  '1f354',
  '1f35f',
  '1f355',
  '1f32d',
  '1f96a',
  '1f32e',
  '1f32f',
  '1f959',
  '1f9c6',
  '1f95a',
  '1f373',
  '1f958',
  '1f372',
  '1f963',
  '1f957',
  '1f37f',
  '1f9c8',
  '1f9c2',
  '1f96b',
  '1f371',
  '1f358',
  '1f359',
  '1f35a',
  '1f35b',
  '1f35c',
  '1f35d',
  '1f360',
  '1f362',
  '1f363',
  '1f364',
  '1f365',
  '1f96e',
  '1f361',
  '1f95f',
  '1f960',
  '1f961',
  '1f980',
  '1f99e',
  '1f990',
  '1f991',
  '1f9aa',
  '1f366',
  '1f367',
  '1f368',
  '1f369',
  '1f36a',
  '1f382',
  '1f370',
  '1f9c1',
  '1f967',
  '1f36b',
  '1f36c',
  '1f36d',
  '1f36e',
  '1f36f',
  '1f37c',
  '1f95b',
  '2615',
  '1f375',
  '1f376',
  '1f37e',
  '1f377',
  '1f378',
  '1f379',
  '1f37a',
  '1f37b',
  '1f942',
  '1f943',
  '1f964',
  '1f9c3',
  '1f9c9',
  '1f9ca',
  '1f962',
  '1f37d-fe0f',
  '1f374',
  '1f944',
  '1f52a',
  '1f3fa',
  '1f383',
  '1f384',
  '1f386',
  '1f387',
  '1f9e8',
  '2728',
  '1f388',
  '1f389',
  '1f38a',
  '1f38b',
  '1f38d',
  '1f38e',
  '1f38f',
  '1f390',
  '1f391',
  '1f9e7',
  '1f380',
  '1f381',
  '1f397-fe0f',
  '1f39f-fe0f',
  '1f3ab',
  '1f396-fe0f',
  '1f3c6',
  '1f3c5',
  '1f947',
  '1f948',
  '1f949',
  '26bd',
  '26be',
  '1f94e',
  '1f3c0',
  '1f3d0',
  '1f3c8',
  '1f3c9',
  '1f3be',
  '1f94f',
  '1f3b3',
  '1f3cf',
  '1f3d1',
  '1f3d2',
  '1f94d',
  '1f3d3',
  '1f3f8',
  '1f94a',
  '1f94b',
  '1f945',
  '26f3',
  '26f8-fe0f',
  '1f3a3',
  '1f93f',
  '1f3bd',
  '1f3bf',
  '1f6f7',
  '1f94c',
  '1f3af',
  '1fa80',
  '1fa81',
  '1f3b1',
  '1f52e',
  '1f9ff',
  '1f3ae',
  '1f579-fe0f',
  '1f3b0',
  '1f3b2',
  '1f9e9',
  '1f9f8',
  '2660-fe0f',
  '2665-fe0f',
  '2666-fe0f',
  '2663-fe0f',
  '265f-fe0f',
  '1f0cf',
  '1f004',
  '1f3b4',
  '1f3ad',
  '1f5bc-fe0f',
  '1f3a8',
  '1f9f5',
  '1f9f6',
  '1f30d',
  '1f30e',
  '1f30f',
  '1f310',
  '1f5fa-fe0f',
  '1f5fe',
  '1f9ed',
  '1f3d4-fe0f',
  '26f0-fe0f',
  '1f30b',
  '1f5fb',
  '1f3d5-fe0f',
  '1f3d6-fe0f',
  '1f3dc-fe0f',
  '1f3dd-fe0f',
  '1f3de-fe0f',
  '1f3df-fe0f',
  '1f3db-fe0f',
  '1f3d7-fe0f',
  '1f9f1',
  '1f3d8-fe0f',
  '1f3da-fe0f',
  '1f3e0',
  '1f3e1',
  '1f3e2',
  '1f3e3',
  '1f3e4',
  '1f3e5',
  '1f3e6',
  '1f3e8',
  '1f3e9',
  '1f3ea',
  '1f3eb',
  '1f3ec',
  '1f3ed',
  '1f3ef',
  '1f3f0',
  '1f492',
  '1f5fc',
  '1f5fd',
  '26ea',
  '1f54c',
  '1f6d5',
  '1f54d',
  '26e9-fe0f',
  '1f54b',
  '26f2',
  '26fa',
  '1f301',
  '1f303',
  '1f3d9-fe0f',
  '1f304',
  '1f305',
  '1f306',
  '1f307',
  '1f309',
  '2668-fe0f',
  '1f3a0',
  '1f3a1',
  '1f3a2',
  '1f488',
  '1f3aa',
  '1f682',
  '1f683',
  '1f684',
  '1f685',
  '1f686',
  '1f687',
  '1f688',
  '1f689',
  '1f68a',
  '1f69d',
  '1f69e',
  '1f68b',
  '1f68c',
  '1f68d',
  '1f68e',
  '1f690',
  '1f691',
  '1f692',
  '1f693',
  '1f694',
  '1f695',
  '1f696',
  '1f697',
  '1f698',
  '1f699',
  '1f69a',
  '1f69b',
  '1f69c',
  '1f3ce-fe0f',
  '1f3cd-fe0f',
  '1f6f5',
  '1f9bd',
  '1f9bc',
  '1f6fa',
  '1f6b2',
  '1f6f4',
  '1f6f9',
  '1f68f',
  '1f6e3-fe0f',
  '1f6e4-fe0f',
  '1f6e2-fe0f',
  '26fd',
  '1f6a8',
  '1f6a5',
  '1f6a6',
  '1f6d1',
  '1f6a7',
  '2693',
  '26f5',
  '1f6f6',
  '1f6a4',
  '1f6f3-fe0f',
  '26f4-fe0f',
  '1f6e5-fe0f',
  '1f6a2',
  '2708-fe0f',
  '1f6e9-fe0f',
  '1f6eb',
  '1f6ec',
  '1fa82',
  '1f4ba',
  '1f681',
  '1f69f',
  '1f6a0',
  '1f6a1',
  '1f6f0-fe0f',
  '1f680',
  '1f6f8',
  '1f6ce-fe0f',
  '1f9f3',
  '231b',
  '23f3',
  '231a',
  '23f0',
  '23f1-fe0f',
  '23f2-fe0f',
  '1f570-fe0f',
  '1f55b',
  '1f567',
  '1f550',
  '1f55c',
  '1f551',
  '1f55d',
  '1f552',
  '1f55e',
  '1f553',
  '1f55f',
  '1f554',
  '1f560',
  '1f555',
  '1f561',
  '1f556',
  '1f562',
  '1f557',
  '1f563',
  '1f558',
  '1f564',
  '1f559',
  '1f565',
  '1f55a',
  '1f566',
  '1f311',
  '1f312',
  '1f313',
  '1f314',
  '1f315',
  '1f316',
  '1f317',
  '1f318',
  '1f319',
  '1f31a',
  '1f31b',
  '1f31c',
  '1f321-fe0f',
  '2600-fe0f',
  '1f31d',
  '1f31e',
  '1fa90',
  '2b50',
  '1f31f',
  '1f320',
  '1f30c',
  '2601-fe0f',
  '26c5',
  '26c8-fe0f',
  '1f324-fe0f',
  '1f325-fe0f',
  '1f326-fe0f'
];

main().catch(console.error).finally(() => process.exit());
